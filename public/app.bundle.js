webpackJsonp([0],[function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=e(1);i(n);e(3);var o=e(6),a=i(o),s=e(8),r=i(s),l=e(9),c=i(l),d=e(11),u=i(d),f=e(59),h=i(f),v=e(61),p=i(v),m=e(62),b=i(m);a.default.module("app",[r.default,c.default,u.default.name]).config(["$locationProvider","$httpProvider","$compileProvider","$sceProvider",function(t,e,i,n){"ngInject";i.aHrefSanitizationWhitelist(/^\s*(https?|file|blob|ftp|mailto|c‌​hrome-extension|data):/),n.enabled(!1)}]).constant("config",p.default).component("app",h.default).service("commonService",b.default),a.default.element(document).ready(function(){window.cordova?(console.log("Running in Cordova, will bootstrap AngularJS once 'deviceready' event fires."),document.addEventListener("deviceready",function(){console.log("Deviceready event has fired, bootstrapping AngularJS."),a.default.bootstrap(document.body,["app"])},!1)):(console.log("Running in browser, bootstrapping AngularJS now."),a.default.bootstrap(document.body,["app"]))})},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=e(2),o=i(n);window.$=window.jQuery=o.default},,,,,,,,,,function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(12),s=i(a),r=e(33),l=i(r),c=e(42),d=i(c),u=e(48),f=i(u),h=e(55),v=i(h),p=o.default.module("app.components",[s.default.name,l.default.name,d.default.name,f.default.name,v.default.name]);exports.default=p,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(13),s=i(a),r=e(17),l=i(r),c=e(25),d=i(c),u=e(29),f=i(u),h=o.default.module("app.components.layout",[s.default.name,l.default.name,d.default.name,f.default.name]);exports.default=h,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(8),s=i(a),r=e(14),l=i(r),c=o.default.module("bheader",[s.default]).component("bheader",l.default);exports.default=c,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(15),o=i(n),a=e(16),s=i(a),r={restrict:"E",bindings:{},template:o.default,controller:s.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){t.exports=' <div class="insidebox" style="height: 350px">\n </div>\n'},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function t(){e(this,t),this.name="bheader"};exports.default=i,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(18),s=i(a),r=e(21),l=i(r),c=o.default.module("bnavbar",[l.default.name]).component("bnavbar",s.default);exports.default=c,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(19),o=i(n),a=e(20),s=i(a),r={restrict:"E",bindings:{},transclude:!0,template:s.default,controller:o.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function t(){e(this,t)};exports.default=i,t.exports=exports.default},function(t,exports){t.exports='<div class="navbar-fixed">\n <div data-ng-transclude></div>\n</div>\n\n'},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(8),s=i(a),r=e(22),l=i(r),c=o.default.module("bnavbarMenu",[s.default]).component("bnavbarMenu",l.default);exports.default=c,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(23),o=i(n),a=e(24),s=i(a),r={restrict:"E",bindings:{},template:o.default,controller:s.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){t.exports='<style>\n\n.adp{\n  font-size: 12px;\n  line-height: 25px;\n}\n.adp-legal{\n  padding-left: 10px;\n}\n.side-nav li {\n  margin-bottom: -10px;\n}\n</style>\n<nav style="max-width: 420px">\n   <div class="nav-wrapper black">\n    <a href="javascript:void(0)" class="brand-logo center">\n    <img src="public/images/appicon.png" style="width:54px">\n    </a>\n    <a href="javascript:void(0)" data-activates="mobile-demo"\n     id="button-collapse" style="padding-left:10px"> <i class="fa fa-bars fa-2x"></i>\n    </a>\n    <a href="javascript:void(0)" class="right cyan-text text-accent-3" id="map-details-button" data-activates="right-slide"\n    style="padding-right: 10px">\n      <i class="fa fa-map-marker fa-2x"></i>\n    </a>\n\n    <ul class="side-nav" id="mobile-demo">\n     <li><div class="userView" style="padding:16px 16px 0">\n            <img class="background" src="public/images/office.jpg" style="position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: -1;">\n            <a href="javascript:void(0)" style="padding-top:100px">\n              <span ng-if="!vm.user" class="white-text name">\n                Hey,\n            </span>\n            <span ng-if="vm.user" class="white-text name">\n              Hey {{vm.user.name}},\n          </span>\n            </a>\n            <a href="javascript:void(0)">\n              <span ng-if="vm.user" class="white-text email">{{vm.user.mail}}</span>\n              <span ng-if="!vm.user" class="white-text email">Please login</span>\n            </a>\n          </div>\n     </li>\n     <li ng-if="!vm.user"><a ui-sref="LOGIN">Login</a></li>\n     <li><a ui-sref="START">Speak Mode</a></li>\n     <li><a ui-sref="FEEL">Feel Mode</a></li>\n     <li><a ui-sref="SETTINGS">Settings</a></li>\n    </ul>\n\n    <ul class="side-nav black-text" id="right-slide" >\n     <li><div class="userView" style="padding:16px 16px 0;height:245px" id="map">\n          </div>\n     </li>\n     <li><div id="right-panel">\n          </div>\n     </li>\n\n\n\n\n\n\n\n\n\n    </ul>\n   </div>\n\n  </nav>\n  <script>\n$(function(){\n   $("#button-collapse").sideNav({\n     edge: \'left\', // Choose the horizontal origin\n     closeOnClick: true // Closes side-nav on <a> clicks, useful for Angular/Meteor\n   });\n\n   $("#map-details-button").sideNav({\n     menuWidth:340,\n     edge: \'right\', // Choose the horizontal origin\n     closeOnClick: false // Closes side-nav on <a> clicks, useful for Angular/Meteor\n   });\n})\n</script>\n'},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(i,n,o){var a=this;e(this,t),this.rootScope=i,this.state=o,this.directionsDisplay=null,this.rootScope.$on("ROUTE",function(t,e){n(function(){a.displayService().setDirections(e)})}),this.rootScope.$on("LOGGEDIN",function(t,e){a.user=e}),this.rootScope.$on("LOGGEDOUT",function(t,e){a.user=null}),this.rootScope.$on("MAPRESET",function(t,e){n(function(){map=new google.maps.Map(document.getElementById("map"),{zoom:7,center:e}),a.displayService().setMap(map)})})}return t.$inject=["$rootScope","$timeout","$state"],i(t,[{key:"displayService",value:function(){return null==this.directionsDisplay&&(this.directionsDisplay=new google.maps.DirectionsRenderer,map&&this.directionsDisplay.setMap(map),this.directionsDisplay.setPanel(document.getElementById("right-panel"))),this.directionsDisplay}},{key:"routeMark",value:function(t,e,i){this.removeMarker();var n=new L.LatLng(t,e);advice_marker=L.marker(n,{draggable:"true",title:i}).addTo(map),advice_marker.bindPopup(i,{advice_text:!0,autopan:!0,zoomAnimation:!0}).openPopup(),advicemarkersList.push(advice_marker),map.fitBounds(n)}},{key:"removeMarker",value:function(){for(var t=0;t<advicemarkersList.length;t++)map.removeLayer(advicemarkersList[t]);advicemarkersList=new Array}},{key:"adviceDistance",value:function(t){var e=this.context.route.steps;if(t+1!=e.length){var i=e[t+1].distance.value-e[t].distance.value;return i>=1e3?(i/1e3).toFixed(1)+" kilometers ":i+" meters "}}}]),t}();exports.default=n,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(8),s=i(a),r=e(26),l=i(r),c=o.default.module("bbody",[s.default]).component("bbody",l.default);exports.default=c,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(27),o=i(n),a=e(28),s=i(a),r={restrict:"E",bindings:{},template:o.default,controller:s.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){t.exports=' <div class="loginbox z-depth-2" style="height: initial; margin-top: -306px; min-height: 350px; padding: 0px">\n\n  <div ui-view></div>\n  \n </div>'},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function t(){e(this,t),this.name="bbody"};exports.default=i,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(8),s=i(a),r=e(30),l=i(r),c=o.default.module("bfooter",[s.default]).component("bfooter",l.default);exports.default=c,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(31),o=i(n),a=e(32),s=i(a),r={restrict:"E",bindings:{},template:o.default,controller:s.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){t.exports=' <div class="bottomfootertext">\n  Copyright <a href="javascript:void(0)">Apurav Chauhan</a>\n </div>'},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function t(){e(this,t),this.name="bfooter"};exports.default=i,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(8),s=i(a),r=e(34),l=i(r),c=e(41),d=i(c),u=o.default.module("start",[s.default]).config(["$stateProvider","$urlRouterProvider",function(t,e){"ngInject";t.state("START",{url:"/start",template:"<start></start>"})}]).service("searchService",d.default).component("start",l.default);exports.default=u,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(35),o=i(n),a=e(36),s=i(a);e(37);var r={restrict:"E",bindings:{},template:o.default,controller:s.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){t.exports='\n<style>\n#map {\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 100%;\n\theight: 225px;\n}\n</style>\n\n<div class="row">\n <div class="col s12">\n\n\n  <div class="wrapper">\n   <div class="button-wrapper">\n    <div class="button" ng-click="vm.search()">\n     <svg class="button-svg" viewBox="0 0 24 24">\n   <path\n       d="M12 15c1.66 0 2.99-1.34 2.99-3l.01-6c0-1.66-1.34-3-3-3s-3 1.34-3 3v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1s-5.3-2.1-5.3-5.1h-1.7c0 3.42 2.72 6.23 6 6.72v3.28h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" />\n   <path d="M0 0h24v24h-24z" fill="none" />\n  </svg>\n    </div>\n   </div>\n\n   <div class="active-wrapper">\n    <div class="stop-button">\n     <svg class="stop-button-svg" viewBox="0 0 24 24">\n   <path d="M0 0h24v24H0z" fill="none" />\n   <path d="M6 6h12v12H6z" />\n  </svg>\n    </div>\n    <div class="dots">\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n     <div class="dots-col">\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n      <div class="dots-dot"></div>\n     </div>\n    </div>\n   </div>\n  </div>\n\n </div>\n</div>\n<script>\nvar recognition;\nvar isStopped = false;\nvar button = $(\'.button\');\nvar mic = button.find(\'svg\');\nvar active = $(\'.active-wrapper\');\nvar stop = $(\'.stop-button\');\nvar dotCol = $(\'.dots-col\');\nvar w = $(window);\nvar vw = w.innerWidth();\nvar vh = w.innerHeight();\nvar bw = button.innerWidth();\nvar bh = button.innerHeight();\nvar s;\n\nvar clone = button.clone();\nclone.find(\'svg\').remove();\nbutton.before(clone);\n\nvar open = function() {\n if (vw > vh) {\n  s = vw / bw * 1.5;\n } else {\n  s = vh / bh * 1.5;\n }\n var scale = \'scale(\' + s + \') translate(-50%,-50%)\';\n \n clone.css({\n  transform: scale\n });\n \n mic.css({\n  fill: \'rgba(0,0,0,0.2)\',\n  transform: \'scale(4)\'\n });\n \n button.on(\'transitionend\', function() {\n  active.addClass(\'active\');\n  $(this).off(\'transitionend\');\n });\n \n return false;\n};\n\nvar closeSpeech = function() {\n  if(recognition){\n    console.log(\'stopped\');\n    isStopped=true;\n    if(recognition.stop){\n      recognition.stop();  \n    }\n    \n    }\n active.removeClass(\'active\');\n clone.removeAttr(\'style\');\n mic.removeAttr(\'style\');\n};\n\nbutton.on(\'click\', open);\nstop.on(\'click\', closeSpeech);\n</script>\n\n'},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(i,n,o,a,s){e(this,t),this.searchService=a,this.rootScope=n,this.state=i,this.context={},this.commonService=s,this.wait=o;var r=this.commonService.setupNavigator(this);r||utter("Navigation is not supported by this app")}return t.$inject=["$state","$rootScope","$timeout","searchService","commonService"],i(t,[{key:"next",value:function(){var t=this.context[this.context.linker];t.data.length-1==t.index?this.utter("That was the end of the result list."):(t.index++,this.discuss(this.context.linker,t.data,t.index))}},{key:"onSpeechResult",value:function(t,e){"no-speech"!=t&&Materialize.toast(t,1e3),console.log(t),this.commonService.search(t,this,{end:" Ending route.",deviate:" Possible deviation from route.",noroute:"No direct route found",localSearch:"search",localShop:"shop",localShare:"share",location:"location",carpool:"ride sharing",book:"book",localEat:"eat",navigate:"navigate",next:"next",yes:"yes",no:"no",found:" results found. Say NEXT to start browsing the list.",notfound:"Nothing found. Please broaden your search",bookok:"Ride booked successfully",shareok:"Ride shared successfully"}),window.closeSpeech()}},{key:"search",value:function(){var t=this;isStopped=!1,window.recognition||(isCordova?(console.log("register for iscordova"),window.recognition=window.plugins.nodialogrecognizer.startRecognize):(console.log("register for non cordova"),window.recognition=new webkitSpeechRecognition),window.recognition.lang="en-IN",window.recognition.continuous=!1,window.recognition.onresult=function(e){var i=e.results.length,n=e.results[i-1][0].transcript;t.onSpeechResult(n,t)},recognition.onerror=function(t){t&&"network"==t.error&&alert("Please check your internet connection!"),console.log("Error event",t)},recognition.onend=function(){window.closeSpeech()}),this.utter("Yes please ?",function(){return t.startRecognition()})}},{key:"startRecognition",value:function(){var t=this;isCordova?window.recognition(function(e){t.onSpeechResult(e[0],t)},function(e){console.log("error",e),t.utter("Didn't get you!"),window.closeSpeech()},1):(window.recognition.onresult=function(e){var i=e.results[0][0].transcript;console.log(i),t.onSpeechResult(i,t)},window.recognition.start())}},{key:"utter",value:function(t,e){t=t.replace(/<b>/g,"").replace(/<\/b>/g,"").replace(/<em>/,"").replace(/<\/em>/g,"");var i=new SpeechSynthesisUtterance;i.lang="en-IN",i.text=t,i.onend=e,window.speechSynthesis.speak(i)}},{key:"discuss",value:function(t,e,i){switch(t){case"localSearch":this.utter(e[i].name+". "+e[i].snippet);break;case"localEat":this.utter(e[i].name+" at "+e[i].address);break;case"localShop":this.utter(e[i].product_name+" available at "+e[i].store_name)}}},{key:"processRoute",value:function(t){this.context.route=t;var e=t.distance.value/1e3;this.utter("Your destination is "+e.toFixed(1)+" kilometers away"),this.utter("Your should reach there in "+t.duration.text)}}]),t}();exports.default=n,t.exports=exports.default},function(t,exports,e){var i=e(38);"string"==typeof i&&(i=[[t.id,i,""]]);e(40)(i,{});i.locals&&(t.exports=i.locals)},function(t,exports,e){exports=t.exports=e(39)(),exports.push([t.id,".wrapper{position:fixed;top:0;left:0;height:100vh;width:100vw;overflow:hidden}.button{will-change:transform;width:140px;height:140px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:linear-gradient(45deg,#0091e5,#0091e5 47%,#00a2ff 0,#00a2ff);border-radius:50%;-webkit-transform-origin:left top;transform-origin:left top;transition:all .6s cubic-bezier(.23,1,.32,1);cursor:pointer}.button-wrapper{height:100vh;width:100vw;overflow:hidden;background:#1a1a1a}.button-svg{width:80px;height:80px;fill:#fff;transition:all .6s cubic-bezier(.23,1,.32,1)}.button:hover svg{fill:rgba(0,0,0,.2)}.active-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:hidden;opacity:0;transition:all .6s cubic-bezier(.23,1,.32,1)}.active-wrapper.active{opacity:1;visibility:visible}.active-wrapper.active .dots-col{-webkit-transform:rotateX(0);transform:rotateX(0)}.stop-button{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:60px;height:60px;margin-bottom:6vh;background:rgba(0,0,0,.3);border-radius:50%;cursor:pointer}.stop-button-svg{fill:#fff;width:40px;height:40px;transition:all .6s cubic-bezier(.23,1,.32,1)}.stop-button:hover{background:rgba(0,0,0,.45)}.stop-button:hover svg{fill:tomato}.dots{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-perspective:400px;perspective:400px}.dots-col{margin:15px;-webkit-transform:rotateX(-90deg);transform:rotateX(-90deg);-webkit-transform-origin:bottom center;transform-origin:bottom center;transition:all .6s cubic-bezier(.175,.885,.32,1.275)}@media (max-width:600px){.dots-col{margin:9px}}.dots-dot{width:20px;height:20px;background:#fff;opacity:.3;border-radius:50%;margin:15px 0}@media (max-width:600px){.dots-dot{width:13px;height:13px;margin:9px 0}}.dots-col:first-child > .dots-dot:nth-child(4){-webkit-animation:lightup .6s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .6s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.24s;animation-delay:-.24s}.dots-col:first-child > .dots-dot:nth-child(5){-webkit-animation:lightup .6s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .6s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.3s;animation-delay:-.3s}.dots-col:first-child > .dots-dot:nth-child(6){-webkit-animation:lightup .6s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .6s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.36s;animation-delay:-.36s}.dots-col:nth-child(2)>.dots-dot:nth-child(3){-webkit-animation:lightup .7s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .7s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.24s;animation-delay:-.24s}.dots-col:nth-child(2)>.dots-dot:nth-child(4){-webkit-animation:lightup .7s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .7s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.32s;animation-delay:-.32s}.dots-col:nth-child(2)>.dots-dot:nth-child(5){-webkit-animation:lightup .7s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .7s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.4s;animation-delay:-.4s}.dots-col:nth-child(2)>.dots-dot:nth-child(6){-webkit-animation:lightup .7s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .7s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.48s;animation-delay:-.48s}.dots-col:nth-child(3)>.dots-dot:nth-child(2){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.08s;animation-delay:-.08s}.dots-col:nth-child(3)>.dots-dot:nth-child(3){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.12s;animation-delay:-.12s}.dots-col:nth-child(3)>.dots-dot:nth-child(4){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.16s;animation-delay:-.16s}.dots-col:nth-child(3)>.dots-dot:nth-child(5){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.2s;animation-delay:-.2s}.dots-col:nth-child(3)>.dots-dot:nth-child(6){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.24s;animation-delay:-.24s}.dots-col:nth-child(4)>.dots-dot:nth-child(3){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.15s;animation-delay:-.15s}.dots-col:nth-child(4)>.dots-dot:nth-child(4){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.2s;animation-delay:-.2s}.dots-col:nth-child(4)>.dots-dot:nth-child(5){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.25s;animation-delay:-.25s}.dots-col:nth-child(4)>.dots-dot:nth-child(6){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.3s;animation-delay:-.3s}.dots-col:nth-child(5)>.dots-dot:nth-child(2){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.12s;animation-delay:-.12s}.dots-col:nth-child(5)>.dots-dot:nth-child(3){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.18s;animation-delay:-.18s}.dots-col:nth-child(5)>.dots-dot:nth-child(4){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.24s;animation-delay:-.24s}.dots-col:nth-child(5)>.dots-dot:nth-child(5){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.3s;animation-delay:-.3s}.dots-col:nth-child(5)>.dots-dot:nth-child(6){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.36s;animation-delay:-.36s}.dots-col:nth-child(6)>.dots-dot:nth-child(2){-webkit-animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.12s;animation-delay:-.12s}.dots-col:nth-child(6)>.dots-dot:nth-child(3){-webkit-animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.18s;animation-delay:-.18s}.dots-col:nth-child(6)>.dots-dot:nth-child(4){-webkit-animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.24s;animation-delay:-.24s}.dots-col:nth-child(6)>.dots-dot:nth-child(5){-webkit-animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.3s;animation-delay:-.3s}.dots-col:nth-child(6)>.dots-dot:nth-child(6){-webkit-animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;animation:lightup 1s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.36s;animation-delay:-.36s}.dots-col:nth-child(7)>.dots-dot:nth-child(3){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.15s;animation-delay:-.15s}.dots-col:nth-child(7)>.dots-dot:nth-child(4){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.2s;animation-delay:-.2s}.dots-col:nth-child(7)>.dots-dot:nth-child(5){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.25s;animation-delay:-.25s}.dots-col:nth-child(7)>.dots-dot:nth-child(6){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.3s;animation-delay:-.3s}.dots-col:nth-child(8)>.dots-dot:nth-child(4){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.2s;animation-delay:-.2s}.dots-col:nth-child(8)>.dots-dot:nth-child(5){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.25s;animation-delay:-.25s}.dots-col:nth-child(8)>.dots-dot:nth-child(6){-webkit-animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .9s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.3s;animation-delay:-.3s}.dots-col:nth-child(9)>.dots-dot:nth-child(5){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.25s;animation-delay:-.25s}.dots-col:nth-child(9)>.dots-dot:nth-child(6){-webkit-animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;animation:lightup .8s cubic-bezier(.86,0,.07,1) infinite;-webkit-animation-delay:-.3s;animation-delay:-.3s}@-webkit-keyframes lightup{0%{opacity:.3}50%{opacity:1}75%{opacity:1}to{opacity:.3}}@keyframes lightup{0%{opacity:.3}50%{opacity:1}75%{opacity:1}to{opacity:.3}}",""])},,,function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(i,n,o){e(this,t),this.http=i,this.googleServiceRef=null,this.q=n,this.config=o,this.crimeLocs=[{lat:30.7319380000001,lng:76.765339,name:"3128/2 sec 22d chandigarh"},{lat:30.7361110000001,lng:76.769575,name:"hno 223 sec 22a chandigarh"},{lat:30.735039,lng:76.777608,name:"sco 1030/31 sector 22b chandigarh"},{lat:30.73958,lng:76.762414,name:"hno 3276 Sec 23d chandigarh"},{lat:30.699671900000002,lng:76.7216153,name:"hig 999 Sec 70 mohali"}]}return t.$inject=["$http","$q","config"],i(t,[{key:"calcCrow",value:function(t,e,i,n){var o=6371,a=this.toRad(i-t),s=this.toRad(n-e),t=this.toRad(t),i=this.toRad(i),r=Math.sin(a/2)*Math.sin(a/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(t)*Math.cos(i),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),c=o*l;return c}},{key:"toRad",value:function(t){return t*Math.PI/180}},{key:"isNearCrimeLoc",value:function(t){var e=this,i=this.q.defer();return this.http.get("https://data.police.uk/api/crimes-street/all-crime?lat="+t.latitude+"&lng="+t.longitude).success(function(i){for(var n={},o=0;o<i.length;o++){var a=i[o],s=1e3*e.calcCrow(t.latitude,t.longitude,a.location.latitude,a.location.longitude);if(s<=30){n.name=a.location.name;break}}return!1}).error(function(t){return i.reject(t)}),i.promise}},{key:"localSearch",value:function(t){var e=this.q.defer();return this.http.get(this.config.apiHost+"search/local-search?city=London&q="+t).success(function(t){
return e.resolve(t.results)}).error(function(t){return e.reject(t)}),e.promise}},{key:"postRide",value:function(t,e){var i=this.q.defer();return this.http.post(this.config.ridesHost+"api/ride",t,{headers:{"X-AUTH-SMARTCITY":""+e.session}}).success(function(t){return i.resolve(t)}).error(function(t){return i.reject(t)}),i.promise}},{key:"searchRide",value:function(t,e){var i=this.q.defer();return this.http.post(this.config.ridesHost+"api/ride/search",t,{headers:{"X-AUTH-SMARTCITY":""+e.session}}).success(function(t){return i.resolve(t)}).error(function(t){return i.reject(t)}),i.promise}},{key:"bookRide",value:function(t,e){var i=this.q.defer();return this.http.post(this.config.ridesHost+"api/ride/"+t+"/contact",{},{headers:{"X-AUTH-SMARTCITY":""+e.session}}).success(function(t){return i.resolve(t)}).error(function(t){return i.reject(t)}),i.promise}},{key:"localShop",value:function(t){var e=this.q.defer();return this.http.get(this.config.apiHost+"search/shop?q="+t).success(function(t){return e.resolve(t.products)}).error(function(t){return e.reject(t)}),e.promise}},{key:"localEat",value:function(t){var e=this.q.defer();return this.http.get(this.config.apiHost+"search/restaurants?city=London&q="+t).success(function(t){return e.resolve(t.data)}).error(function(t){return e.reject(t)}),e.promise}},{key:"route",value:function(t,e){var i=this.q.defer();return t={lat:51.5124098090718,lng:-.1268785006157669},this.directionService().route({origin:t,destination:e,travelMode:"DRIVING"},function(t,e){"OK"===e?i.resolve(t):i.reject(e)}),i.promise}},{key:"directionService",value:function(){return null==this.googleServiceRef&&(this.googleServiceRef=new google.maps.DirectionsService),this.googleServiceRef}},{key:"deals",value:function(t,e,i){var n=this.q.defer();return this.http.get(this.config.apiHost+("nearby_search?lat="+t+"&lng="+e+"&keywords="+i+"&page=1")).success(function(t){return n.resolve(t)}).error(function(t){return n.reject(t)}),n.promise}},{key:"validate",value:function(t){var e=this.q.defer();return this.http.post(this.config.apiHost+"questions",t).success(function(t){return e.resolve(t)}).error(function(t){return e.reject(t)}),e.promise}}]),t}();exports.default=n,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(8),s=i(a),r=e(43),l=i(r),c=o.default.module("settings",[s.default]).config(["$stateProvider",function(t){"ngInject";t.state("SETTINGS",{url:"/settings",template:"<settings></settings>"})}]).component("settings",l.default);exports.default=c,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(44),o=i(n),a=e(45),s=i(a);e(46);var r={restrict:"E",bindings:{},template:o.default,controller:s.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){t.exports='<div class="row">\n  <div class="col s12" style="height:200px;padding:0;overflow:hidden">\n    <img src="public/images/speak.gif" style="height:277px" ng-if="vm.speak" class="animated fadeIn">\n    <img src="public/images/feel.gif" style="height:277px" ng-if="vm.feel" class="animated fadeIn">\n\n  </div>\n  <div class="col s12" style="padding:0">\n    <ul class="collection" style="margin:0">\n      <li class="collection-item avatar"><i class="fa fa-microphone circle green"></i> <span class="title">Speak Mode</span>\n        <p>\n          <small>Visually Impaired</small> <br>\n          <small>Go handsfree</small>\n        </p>\n        <div class="switch secondary-content">\n          <label> <input type="checkbox" checked="checked" ng-model="vm.speak" ng-change="vm.setMode(\'speak\')"> <span class="lever"></span>\n     </label>\n        </div>\n      </li>\n      <li class="collection-item avatar"><i class="fa fa-hand-pointer-o circle red"></i> <span class="title">Feel Mode</span>\n        <p>\n          <small>Speech/Visually Impaired </small> <br>\n          <small>Blind/Deaf/Dumb</small>\n        </p>\n        <div class="switch secondary-content">\n          <label> <input type="checkbox" ng-model="vm.feel" ng-change="vm.setMode(\'feel\')"> <span class="lever"></span>\n     </label>\n        </div>\n      </li>\n      <li class="collection-item avatar"><i class="fa fa-shield circle blue"></i> <span class="title">Travel Safety</span>\n        <p>\n          <small>Enable safe travel </small> <br>\n          <small>Intelligent prediction about crime locations</small>\n        </p>\n        <div class="switch secondary-content">\n          <label> <input type="checkbox" ng-model="vm.safetravel"> <span class="lever"></span>\n       </label>\n        </div>\n      </li>\n      <li class="collection-item avatar"><i class="fa fa-map-marker circle black"></i> <span class="title">Test Mode</span>\n        <p>\n          <small>Simulate London address</small> <br>\n          <small>Use this if outside London</small>\n        </p>\n        <div class="switch secondary-content">\n          <label> <input type="checkbox" ng-model="vm.simulate"> <span class="lever"></span>\n       </label>\n        </div>\n      </li>\n\n    </ul>\n\n\n  </div>\n</div>\n'},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(){e(this,t),this.speak=!0,this.feel=!1,this.type=!1,this.simulate=!0}return i(t,[{key:"setMode",value:function(t){this.speak=!1,this.feel=!1,this.type=!1,this[t]=!0}}]),t}();exports.default=n,t.exports=exports.default},function(t,exports,e){var i=e(47);"string"==typeof i&&(i=[[t.id,i,""]]);e(40)(i,{});i.locals&&(t.exports=i.locals)},function(t,exports,e){exports=t.exports=e(39)(),exports.push([t.id,".settings{color:red}",""])},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(8),s=i(a),r=e(49),l=i(r),c=e(50),d=i(c),u=o.default.module("feel",[s.default]).config(["$stateProvider",function(t){"ngInject";t.state("FEEL",{url:"/feel",template:"<feel></feel>"})}]).service("feelService",l.default).component("feel",d.default);exports.default=u,t.exports=exports.default},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(i,n,o){e(this,t),this.http=i,this.q=n,this.config=o}return t.$inject=["$http","$q","config"],i(t,[{key:"search",value:function(t){var e=this.q.defer();return this.http.get(this.config.apiHost+"search?query="+t).success(function(t){return e.resolve(t)}).error(function(t){return e.reject(t)}),e.promise}},{key:"validate",value:function(t){var e=this.q.defer();return this.http.post(this.config.apiHost+"questions",t).success(function(t){return e.resolve(t)}).error(function(t){return e.reject(t)}),e.promise}}]),t}();exports.default=n,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(51),o=i(n),a=e(52),s=i(a);e(53);var r={restrict:"E",bindings:{},template:o.default,controller:s.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){t.exports='<div class="row" style="text-align: center">\n  <div class="col s12" id="taparea" style="height:350px;">\n    <div id="textarea" style="height:350px;" ng-swipe-left="vm.no($event)" ng-swipe-right="vm.yes($event)">\n    </div>\n  </div>\n</div>\n'},function(t,exports,e){(function($){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(i,n,o,a,s){var r=this;e(this,t),this.done,this.context={},this.rootScope=n,this.word="",this.begin,this.wait=o,this.isAppend=!1,this.searchService=a,this.commonService=s,this.morsetoalpha={"01":"a",1000:"b",1010:"c",100:"d",0:"e","0010":"f",110:"g","0000":"h","00":"i","0111":"j",101:"k","0100":"l",11:"m",10:"n",111:"o","0110":"p",1101:"q","010":"r","000":"s",1:"t","001":"u","0001":"v","011":"w",1001:"x",1011:"y",1100:"z","01111":"1","00111":"2","00011":"3","00001":"4","00000":"5",10000:"6",11000:"7",11100:"8",11110:"9",11111:"0"},navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate?console.log("we can vibrate"):console.log("no vibration for you :-("),this.alphatomorse={};for(var l in this.morsetoalpha)this.alphatomorse[this.morsetoalpha[l]]=l;"ontouchstart"in window?($("#taparea").bind("touchstart",function(t){return r.start(t)}),$("#taparea").bind("touchend",function(t){return r.end(t)})):($("#taparea").bind("mousedown",function(t){return r.start(t)}),$("#taparea").bind("mouseup",function(t){return r.end(t)})),this.commonService.setupNavigator(this)}return t.$inject=["$state","$rootScope","$timeout","searchService","commonService"],i(t,[{key:"next",value:function(){var t=this.context[this.context.linker];t.data.length-1==t.index?this.utter("End"):(t.index++,this.discuss(this.context.linker,t.data,t.index))}},{key:"yes",value:function(t){if(console.log("In drag yes",t),t.stopPropagation(),this.word){var e=this.fromMorse(this.word);this.commonService.search(e,this,{end:" end",deviate:" deviation",careful:" careful",noroute:" 0 route",localSearch:"f ",localShop:"s ",localEat:"e ",localShare:"h",location:"l",carpool:"r",book:"b",navigate:"n",found:" results",notfound:"0 result",bookok:"OK",shareok:"OK",ridesearchok:"OK",locatefirst:"locate",loginfirst:"login"}),this.word=""}else this.context.linker&&this.next()}},{key:"discuss",value:function(t,e,i){switch(t){case"localSearch":this.utter(e[i].name+".");break;case"localEat":this.utter(""+e[i].name);break;case"localShop":this.utter(e[i].product_name+", "+e[i].store_name)}}},{key:"no",value:function(t){t.stopPropagation(),this.word="",this.utter("cancel"),this.context={},window.existingWatch&&(navigator.geolocation.clearWatch(window.existingWatch),window.existingWatch=null)}},{key:"start",value:function(t){console.log("In start"),t.preventDefault(),this.begin=new Date,this.done&&this.begin-this.done<500?this.isAppend=!0:this.done&&this.begin-this.done>1200?this.isAppend="wrdspc":this.isAppend=!1}},{key:"end",value:function(t){console.log("In end"),t.preventDefault(),this.done=new Date;var e,i=this.done-this.begin;e=i<250?0:1,this.isAppend===!0?this.word+=e:"wrdspc"==this.isAppend?this.word+="X"+e:this.word+="-"+e,$("#textarea").html(this.fromMorse(this.word))}},{key:"fromMorse",value:function(t){t=t.substr(1);var e=t.split("X"),i="";for(var n in e){var o=e[n],a=o.split("-");for(var s in a){var r=a[s];this.morsetoalpha[r]&&(i+=this.morsetoalpha[r])}i+=" "}return i}},{key:"toMorse",value:function(t){t=t.toLowerCase();var e=t.split(" "),i="";for(var n in e){var o=e[n];for(var a in o){var s=o[a];i+="-"+this.alphatomorse[s]}i+="X"}return i}},{key:"utter",value:function(t){t=t.replace(/<b>/g,"").replace(/<\/b>/g,"").replace(/<em>/,"").replace(/<\/em>/g,""),console.log(t);for(var e=this.toMorse(t),i=e.length,n=[],o=0;++o<i;)0==e[o]?"-"==e[o-1]||"X"==e[o-1]?n.push(200):(n.push(70),n.push(200)):1==e[o]?"-"==e[o-1]||"X"==e[o-1]?n.push(600):(n.push(70),n.push(600)):"-"==e[o]?n.push(600):"X"==e[o]&&n.push(1400);navigator.vibrate(n),$("#textarea").html(t)}},{key:"processRoute",value:function(t){this.context.route=t;var e=t.distance.value/1e3;this.utter(e.toFixed(1)+" km"),this.utter(""+t.duration.text)}}]),t}();exports.default=n,t.exports=exports.default}).call(exports,e(2))},function(t,exports,e){var i=e(54);"string"==typeof i&&(i=[[t.id,i,""]]);e(40)(i,{});i.locals&&(t.exports=i.locals)},function(t,exports,e){exports=t.exports=e(39)(),exports.push([t.id,".feel{color:red}",""])},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(6),o=i(n),a=e(8),s=i(a),r=e(56),l=i(r),c=o.default.module("login",[s.default]).config(["$stateProvider","$urlRouterProvider",function(t,e){"ngInject";e.otherwise("/login"),t.state("LOGIN",{url:"/login",template:"<login></login>"})}]).component("login",l.default);exports.default=c,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(57),o=i(n),a=e(58),s=i(a),r={restrict:"E",bindings:{},template:o.default,controller:s.default,controllerAs:"vm"};exports.default=r,t.exports=exports.default},function(t,exports){t.exports='<div class="row">\n  <iframe ng-src="{{vm.loginHost+\'open-login\'}}" style="margin-bottom:-7px;width:100%;border:0px;height:408px"></iframe>\n</div>\n'},function(t,exports){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(i,n,o,a,s,r){var l=this;e(this,t),this.userService=i,this.rootScope=o,this.state=n,this.loginHost=a.loginHost,s.onmessage=function(t){var e=JSON.parse(t.data);console.log(e),l.userService.setUser(e),l.rootScope.$broadcast("LOGGEDIN",e),l.state.go("START")}}return t.$inject=["commonService","$state","$rootScope","config","$window","$timeout"],i(t,[{key:"logout",value:function(){}},{key:"start",value:function(){this.user.get("isOld")||(this.user.set("wallet",JSON.stringify({cash:5,event:"NEW_USER"})),this.user.set("isOld",!0),alert("Congrats! You have received Rs 5. Use this cash to win more cash!")),this.user.get("tut")||(alert("Lets start with a simple tutorial."),this.state.go("TUTORIAL"))}}]),t}();exports.default=n,t.exports=exports.default},function(t,exports,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(60),o=i(n),a={template:o.default,restrict:"E"};exports.default=a,t.exports=exports.default},function(t,exports){t.exports='<div class="mainbox" style="height: inherit; width: inherit; max-width: 420px">\n <bnavbar> <bnavbar-menu></bnavbar-menu> <bnavbar-timer></bnavbar-timer> </bnavbar>\n <bheader></bheader>\n <bbody></bbody>\n <bfooter></bfooter>\n</div>\n<!-- Close .mainbox -->'},function(t,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={apiHost:"https://api.digitaltown.com/",loginHost:"http://smartcity-apurav.rhcloud.com/",ridesHost:"http://www.localcommuter.com/"},t.exports=exports.default},function(t,exports,e){(function($){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(i,n,o,a,s,r,l){e(this,t),this.http=i,this.q=n,this.config=o,this.state=a,this.timeout=s,this.searchService=l,this.user=null,this.rootScope=r}return t.$inject=["$http","$q","config","$state","$timeout","$rootScope","searchService"],i(t,[{key:"setupNavigator",value:function(t){var e=this;return $("#modal1").openModal({dismissible:!0}),navigator.geolocation?(window.existingWatch&&(navigator.geolocation.clearWatch(window.existingWatch),window.existingWatch=null),navigator.geolocation.getCurrentPosition(function(i){t.currentLoc={lat:i.coords.latitude,lng:i.coords.longitude},e.timeout(function(){e.rootScope.$broadcast("MAPRESET",t.currentLoc)}),$("#modal1").closeModal()}),!0):($("#modal1").closeModal(),!1)}},{key:"initiateNavigator",value:function(t,e){var i=t.context.linker;if("localSearch"==i||"localEat"==i){var n=t.context[i],o=n.data[n.index];if(o&&(o.latitude||o.coordinates&&o.coordinates.latitude)){var a={lat:"localEat"==i?parseFloat(o.latitude):o.coordinates.latitude,lng:"localEat"==i?parseFloat(o.longitude):o.coordinates.longitude};t.searchService.route(t.currentLoc,a).then(function(e){console.log(e),t.rootScope.$broadcast("ROUTE",e);var i=e.routes[0].legs[0];t.processRoute(i)},function(){return t.utter(e.noroute)})}}}},{key:"startNavigation",value:function(t,e){t.context.route&&(window.existingWatch&&(navigator.geolocation.clearWatch(window.existingWatch),window.existingWatch=null),navigator.geolocation.getCurrentPosition(function(i){t.currentLoc={lat:i.coords.latitude,lng:i.coords.longitude},t.context.watchid=navigator.geolocation.watchPosition(function(i){return t.commonService.detectAdvice(i,t,e)},t.commonService.watcherror,{timeout:3e4,enableHighAccuracy:!0}),window.existingWatch=t.context.watchid}))}},{key:"search",value:function(t,e,i){if(t=t.trim(),window.existingWatch&&(navigator.geolocation.clearWatch(window.existingWatch),window.existingWatch=null),t.indexOf(i.localSearch)!=-1){var n=t.split(i.localSearch)[1];this.processSearchResults("localSearch",n,e,i)}else if(t.indexOf(i.localShop)!=-1){var n=t.split(i.localShop)[1];this.processSearchResults("localShop",n,e,i)}else if(t.indexOf(i.localEat)!=-1){var n=t.split(i.localEat)[1];this.processSearchResults("localEat",n,e,i)}else if(t.indexOf(i.localShare)!=-1){var n=t.split(i.localShare)[1];this.shareRide(e,i)}else t.indexOf(i.carpool)!=-1?this.searchRide(e,i):t.indexOf(i.book)!=-1?this.bookRide(e,i):t.indexOf(i.location)!=-1?e.commonService.initiateNavigator(e,i):t.indexOf(i.navigate)!=-1?(e.commonService.initiateNavigator(e,i),e.commonService.startNavigation(e,i)):t.indexOf(i.next)!=-1?e.next():t.indexOf(i.yes)!=-1?e.next():t.indexOf(i.no)!=-1}},{key:"formatToday",value:function(t){var e=new Date,i=e.getDate(),n=e.getMonth()+1,o=e.getFullYear();return i<10&&(i="0"+i),n<10&&(n="0"+n),o+"-"+n+"-"+i+"T"+t+":00:0"}},{key:"bookRide",value:function(t,e){return t.context.route?void(this.user&&t.context.ride?this.searchService.bookRide(t.context.ride.id,this.user).then(function(i){t.utter(e.bookok)}):t.utter(e.loginfirst||"Please login before you share your ride.")):void t.utter(e.locatefirst||"Please first locate your result by saying location.")}},{key:"shareRide",value:function(t,e){if(!t.context.route)return void t.utter(e.locatefirst||"Please first locate your result by saying location.");if(this.user&&t.context.route){var i=t.context.route.start_location,n=t.context.route.end_location,o={ride:{rglr:!1,prc:"20",vhcl:{typ:"CAR",num:"X",nam:"Standard Sedan"},days:[this.formatToday(10)],tm:{hr:"10",full:"10:00 AM"},src:{nam:t.context.route.start_address,loc:{coordinates:[i.lng(),i.lat()]}},dst:{nam:t.context.route.end_address,loc:{coordinates:[n.lng(),n.lat()]}}},strtTm:"10:00 AM"};this.searchService.postRide(o,this.user).then(function(i){t.utter(e.shareok)})}else t.utter(e.loginfirst||"Please login before you share your ride.")}},{key:"searchRide",value:function(t,e){if(!t.context.route)return void t.utter(e.locatefirst||"Please first locate your result by saying location.");if(this.user&&t.context.route){var i=t.context.route.start_location,n=t.context.route.end_location,o={days:[this.formatToday(0),this.formatToday(23)],src:{loc:{coordinates:[i.lng(),i.lat()]}},dst:{loc:{coordinates:[n.lng(),n.lat()]}}};this.searchService.searchRide(o,this.user).then(function(i){if(i&&i.results.length>0){var n=i.results[0],o=n.by.name,a=n.prc,s=n.src.nam,r=n.dst.nam,l=n.tm.full;t.context.ride=n;var c=e.ridesearchok?"Price "+a:o+" is offering a ride from "+s+" to "+r+" at a price of "+a+".\n              The ride starts around "+l;t.utter(c)}else t.utter("No carpool found")})}else t.utter(e.loginfirst||"Please login to perform this action.")}},{key:"processSearchResults",value:function(t,e,i,n){i.context={},this.searchService[t](e).then(function(e){console.log(e),e&&e.length>0?(i.context[t]={data:e,index:-1},i.utter(e.length+" "+n.found),i.context.linker=t):i.utter(""+n.notfound)}),Materialize.toast("Searching ... ",1e3)}},{key:"detectAdvice",value:function(t,e,i){if(void 0==e.context.lastLocTime||e.context.lastLocTime<(new Date).getTime()-5e3){e.context.lastLocTime=(new Date).getTime(),Materialize.toast("Navigating ...",1e3);var n=e.context.route.steps,o=e.context.currentAdvice||0,a=e.context.uadvice||0,s="";if(0==o&&0==a){var r=n[o+1].distance.value-n[o].distance.value;s=n[o].instructions+" And go "+(r>=1e3?(r/1e3).toFixed(1)+" kilometers ":r+" meters "),a++}else{console.log("start location ",n[a].start_location.lng());var r=1e3*e.searchService.calcCrow(t.coords.latitude,t.coords.longitude,n[a].start_location.lat(),n[a].start_location.lng());console.log(r," meters");var l=n[a].distance.value-n[o].distance.value;r<=20?(s="In "+r.toFixed(1)+" meters, "+n[a].instructions,a!=n.length-1?(s+=" And go "+(n[a+1].distance.value-n[a].distance.value).toFixed(1)+" meters.",a++,o++):(navigator.geolocation.clearWatch(e.context.watchid),e.context={},s+=i.end)):r>l+10?(console.log("Deviation upcomingD",l,"| Crow distance init",t.coords,n[a]),s+=i.deviate):(void 0==e.context.lastSpeakTime||e.context.lastSpeakTime<(new Date).getTime()-2e4)&&(e.context.lastSpeakTime=(new Date).getTime(),s+="In "+r.toFixed(1)+" meters, "+n[a].instructions)}e.context.uadvice=a,e.context.currentAdvice=o,e.searchService.isNearCrimeLoc(t.coords).then(function(t){t.name&&e.utter(i.careful||"Be careful. Suspected crime location "+t.name)}),s&&e.utter(s)}}},{key:"getUser",value:function(){return this.user}},{key:"setUser",value:function(t){this.user=t}},{key:"watchError",value:function(){Materialize.toast("Watch error",1e3)}}]),t}();exports.default=n,t.exports=exports.default}).call(exports,e(2))}]);
//# sourceMappingURL=app.bundle.js.map